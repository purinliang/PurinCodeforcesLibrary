# 表达式求值

## 表达式树

表达式树是二叉树（因为是单目、双目运算符（对于单目运算符，可以加入一个虚拟占位点）），叶节点放运算数，非叶节点放运算符。

对表达式树进行遍历，前序遍历就是前缀表达式（波兰表达式），中序遍历就是日常使用的中缀表达式，后序遍历就是后缀表达式（逆波兰表达式）。

逆波兰表达式不需要用括号表示，它的运算顺序是唯一确定的。

逆波兰表达式相比波兰表达式，好处在于只需要维护一个数字栈（波兰表达式还要维护符号栈）。

逆波兰表达式是后序遍历，遇到运算符则取出栈顶元素运算，然后把结果压回栈中，代码非常好写。

但是，在中缀表达式转后缀表达式的过程中，需要存储运算符。

中缀转后缀的过程

1. 遇到数字，直接输出数字
2. 遇到左括号，放到运算符栈上
3. 遇到右括号，不断弹出栈顶元素（和他们需要的数字）并进行运算，直到遇到左括号，把左括号弹出，将运算结果压入
4. 遇到运算符，则不断弹出所有运算优先级>=当前运算符的栈顶元素（和他们需要的数字）并进行运算，将运算结果压入数字栈，再将运算符压入。
5. 处理完整个字符串后，剩余的运算符要全部进行弹出，（和他们需要的数字）
6. 数字栈顶为表达式的值

如果需要中缀转后缀，单目运算符可能需要用特殊的占位0进行处理。另外数字与数字之间的分隔符可能要压入额外的空格。

TODO：中缀表达式转后缀表达式
