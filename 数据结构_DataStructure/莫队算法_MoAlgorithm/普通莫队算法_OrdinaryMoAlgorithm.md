# 普通莫队算法

普通莫队算法是用来求解静态的，离线的，大批量的区间查询问题的。

静态的：指元素不能被修改
离线的：指所有的查询在算法开始时就已知

假设区间长度和询问的次数同规模，也就是n == m
如果区间 $[l,r]$ 的答案可以 $O(1)$ 移动到 $[l-1, r]$ ，$[l+1, r]$，$[l, r-1]$，$[l, r+1]$。那么莫队算法的复杂度为 $O(n\sqrt{n})$ 。

将询问离线，直接排序（先按l排序，再按r排序），容易知道这样移动的次数是 $O(n^2)$ 的，跟直接遍历是没有区别的。

加速的方法，是把询问按 $l$ 分块，先按 $l$ 的块编号排序，再按r排序。

这样，对于同一个块内部，无论里面有多少个询问，r总是从小到大，总共移动经过了 $O(n)$，对于 $l$ 要用裂项求和的方法去算。暂时没看懂。

对于询问次数不与n同阶的情况，先跳过。

